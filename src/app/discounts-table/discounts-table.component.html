<div class="container mt-4">
  <app-navbar></app-navbar>
  <h1>Online shoppen met kortingscodes</h1>
  <div class="mb-3">
    <input
            type="text"
            class="form-control"
            placeholder="Zoek op webshop..."
            [(ngModel)]="searchTerm"
            (input)="onSearch()"
    />
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead class="thead-dark">
      <tr>
        <th>Korting bij</th>
        <th>Met code</th>
        <th>%</th>
        <th>Datum</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let discount of paginatedDiscounts">
        <td>{{ discount.company }}</td>
        <button class="btn btn-primary" (click)="openModal(discount)">pak code</button>
        <td>{{ discount.percentage }}</td>
        <td>{{ formatDate(discount.date) }}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-between align-items-center mt-3">
    <button
            class="btn btn-primary"
            (click)="prevPage()"
            [disabled]="page === 1"
    >
      Previous
    </button>
    <span>Page {{ page }} of {{ totalPages }}</span>
    <button
            class="btn btn-primary"
            (click)="nextPage()"
            [disabled]="page === totalPages"
    >
      Next
    </button>
  </div>
</div>

<app-modal
        [isVisible]="isModalVisible"
        [discount]="selectedDiscount"
        (closed)="closeModal()">
</app-modal>