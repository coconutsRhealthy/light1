<div class="container-fluid">
  <div class="content">
    <app-navbar></app-navbar>
    <h1>Online shoppen met kortingscodes</h1>

    <div class="row">
      <div class="col-sm-4"></div>
      <div class="col-sm-4">
        <div class="social-banner alert alert-success" role="alert">
          Volg mij op <a href="https://www.instagram.com/wiegeeftkorting/" onclick="gtag('event', 'insta', {'event_category': 'Social', 'event_label': 'insta_top'});">insta</a> en
          <a href="https://www.tiktok.com/@wiegeeftkorting2" onclick="gtag('event', 'tiktok', {'event_category': 'Social', 'event_label': 'tiktok_top'});">tiktok</a> voor code updates
        </div>

        <div class="social-banner alert alert-success" role="alert">
          â‚¬200 shoptegoed en 40% korting bij Temu, klik <a href="https://temu.to/m/u0p32ew176i" target="_blank" onclick="gtag('event', 'temu', {'event_category': 'Temu', 'event_label': 'try_temu'});">hier</a>
        </div>
      </div>
      <div class="col-sm-4"></div>
    </div>

    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
        <div class="mb-3 table-search-input">
          <input
                  type="text"
                  class="form-control"
                  placeholder="Zoek op webshop..."
                  [(ngModel)]="searchTerm"
                  (input)="onSearch()"
          />
        </div>
        <div class="table-responsive">
          <table class="table table-striped table-hover table-bordered">
            <thead class="thead-dark">
            <tr>
              <th>Korting bij</th>
              <th>Met code</th>
              <th>%</th>
              <th>Datum</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let discount of paginatedDiscounts">
              <td>{{ discount.company }}</td>
              <td><button class="diski-table-button btn btn-outline-secondary" (click)="openModal(discount)">pak code</button></td>
              <td>{{ discount.percentage }}</td>
              <td>{{ formatDate(discount.date) }}</td>
            </tr>
            </tbody>
          </table>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-3">
          <button
                  class="btn btn-primary"
                  (click)="prevPage()"
                  [disabled]="page === 1"
          >
            Previous
          </button>
          <span>Page {{ page }} of {{ totalPages }}</span>
          <button
                  class="btn btn-primary"
                  (click)="nextPage()"
                  [disabled]="page === totalPages"
          >
            Next
          </button>
        </div>
      </div>
      <div class="col-sm-1"></div>
    </div>
  </div>
</div>

<app-modal
        [isVisible]="isModalVisible"
        [discount]="selectedDiscount"
        (closed)="closeModal()">
</app-modal>